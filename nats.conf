# NATS Server Configuration
# Hardened configuration with authentication

# Server settings
port: 4222
http_port: 8222

# JetStream enabled
jetstream {
    store_dir: "/data"
    max_mem: 1G
    max_file: 10G
}

# Authentication using token from secret file
authorization {
    token: $NATS_AUTH_TOKEN
}

# Logging
log_file: "/dev/stdout"
debug: false
trace: false
logtime: true

# Connection limits
max_connections: 100
max_control_line: 4096
max_payload: 1048576
ping_interval: "2m"
ping_max: 2

# Write deadline
write_deadline: "10s"

# TLS Configuration (prepared for future)
# tls {
#     cert_file: "/certs/nats-server-cert.pem"
#     key_file: "/certs/nats-server-key.pem"
#     ca_file: "/certs/ca-cert.pem"
#     verify: true
# }
